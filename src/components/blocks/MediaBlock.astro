---
import { Image } from 'astro:assets';
import type { StrapiContentMediaComponent } from '../../types/strapi';
import { buildMediaUrl } from '../../utils';

type Props = {
    data: StrapiContentMediaComponent;
};

const { data } = Astro.props;
---

<figure class="my-8">
    <div class="relative overflow-hidden rounded-lg shadow-lg">
        {data.media && (
            <Image
                src={buildMediaUrl(data.media.url)}
                alt={data.media.alternativeText || data.caption || ''}
                width={data.media.width}
                height={data.media.height}
                class="w-full h-auto object-cover"
                loading="lazy"
            />
        )}
    </div>
    {data.caption && (
        <figcaption class="text-sm text-gray-600 text-center mt-3 italic">
            {data.caption}
        </figcaption>
    )}
</figure> 